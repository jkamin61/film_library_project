!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},o={},r=t.parcelRequirebd48;null==r&&((r=function(n){if(n in e)return e[n].exports;if(n in o){var t=o[n];delete o[n];var r={id:n,exports:{}};return e[n]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,t){o[n]=t},t.parcelRequirebd48=r),r("31YkX"),r("UL92Z");var a=r("14vun"),i=r("9Bv5S"),c=r("bpxeT"),u=r("2TvXO"),s=r("iidz1");c=r("bpxeT"),u=r("2TvXO"),s=r("iidz1");function d(){return p.apply(this,arguments)}function p(){return(p=n(c)(n(u).mark((function t(){var e,o;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={},o=new(0,s.FetchMoveApi),n.abrupt("return",o.getMoviesGenresList().then((function(n){return n.genres.forEach((function(n){return e[n.id]=n.name})),e})).catch((function(n){console.log(n)})));case 3:case"end":return n.stop()}}),t)})))).apply(this,arguments)}var l={paginationNumbers:document.querySelector(".pagination-numbers"),paginationContainer:document.querySelector(".pagination-container"),nextButton:document.querySelector(".pagination-container__next-button"),prevButton:document.querySelector(".pagination-container__prev-button")},f=(i=r("9Bv5S"),document.querySelector(".wrapper"),document.querySelector(".pagination-container"),new(0,s.FetchMoveApi));function b(){document.body.scrollTop=0,document.documentElement.scrollTop=0}function v(){return(v=n(c)(n(u).mark((function t(e){var o,r,a,c,s,d,p,v;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p=function(){var n=document.querySelector('button[data-id="1"]'),t=document.querySelector('button[data-id="'.concat(r,'"')),e=document.createElement("button");e.textContent="...",e.classList.add("pagination-container__first-dot-button");var o=document.createElement("button");o.textContent="...",o.classList.add("pagination-container__last-dot-button"),a>4&&n.after(e),a<r-3&&t.before(o)},v=function(){d.forEach((function(n){n.classList.remove("pagination-container__button--active"),n.textContent==a&&n.classList.add("pagination-container__button--active")}))},l.paginationNumbers.innerHTML="",n.next=5,f.getTrendDay(e);case 5:return o=n.sent,n.next=8,o.total_pages;case 8:return r=n.sent,n.next=11,o.page;case 11:for(a=n.sent,c="",a>1&&(c+='<button type="button" class="pagination-container__prev-button">\n      &#8656\n  </button>'),s=1;s<=r;s+=1)(1==s||s==r||s==a||s>a&&s<=a+2||s<a&&s>=a-2||1==a&&r>4&&s<8||2==a&&r>5&&s<8||3==a&&r>6&&s<8||4==a&&r>7&&s<8||a==r&&r>7&&s>r-7||a==r-1&&r>7&&s>r-7||a==r-2&&r>7&&s>r-7||a==r-3&&r>7&&s>r-7)&&(c+='<button type="button" class="pagination-container__button" data-id="'.concat(s,'">').concat(s,"</button>"));r>2&&r!==a&&(c+='<button type="button" class="pagination-container__next-button">&#8658\n      </button>'),l.paginationNumbers.innerHTML=c,d=document.querySelectorAll(".pagination-numbers button"),p(),v(),d.forEach((function(n){n.addEventListener("click",(function(n){if(n.target.classList.contains("pagination-container__button")){b();var t=n.target.textContent;nextfunction(t).then((function(){(0,i.openMovieInfoModal)(),loader.off()}))}else n.target.classList.contains("pagination-container__prev-button")?(b(),a--,nextfunction(a).then((function(){(0,i.openMovieInfoModal)(),loader.off()}))):n.target.classList.contains("pagination-container__next-button")&&(b(),a++,nextfunction(a).then((function(){(0,i.openMovieInfoModal)(),loader.off()})))}))}));case 23:case"end":return n.stop()}}),t)})))).apply(this,arguments)}c=r("bpxeT"),u=r("2TvXO");var g=r("lSWKd");s=r("iidz1");r("31YkX");var m,h=document.querySelector(".wrapper"),_=new(0,s.FetchMoveApi);document.querySelector(".search-bar").addEventListener("submit",(m=n(c)(n(u).mark((function t(e){var o,r;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!(o=e.target.querySelector(".search-bar__input").value)){n.next=9;break}return h.innerHTML="",n.next=6,_.getSearching(o,1);case 6:r=n.sent,_.searchResults=r.results,d().then((function(n){_.searchResults.forEach((function(t){var e=(0,g.createLibraryCard)(t,n);h.insertAdjacentHTML("beforeend",e)}))}));case 9:case"end":return n.stop()}}),t)}))),function(n){return m.apply(this,arguments)}));s=r("iidz1"),g=r("lSWKd");var y,x,M;y=1,x=new(0,s.FetchMoveApi),M=document.querySelector(".wrapper"),x.getTrendDay(y).then((function(n){d().then((function(t){n.results.forEach((function(n){var e=(0,g.createHomeCard)(n,t);M.insertAdjacentHTML("beforeend",e)}))}))})),(0,i.openMovieInfoModal)(),(0,a.modalFunctions)(),function(n){v.apply(this,arguments)}(1)}();
//# sourceMappingURL=index.f825aa0a.js.map
